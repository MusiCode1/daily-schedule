# 📊 סטטוס פיצ'רים בפרויקט (Feature Status)

> עודכן לאחרונה: 20/01/2026 00:20

מסמך זה מרכז את כל היכולות המתוכננות והמיושמות במערכת "סדר יום ויזואלי", ומציין בדיוק מה כבר קיים ומה עדיין בפיתוח.

---

## ✅ פיצ'רים מיושמים (Implemented)

### 📅 לוח סדר יום (Daily Schedule)

- [x] **תצוגה ויזואלית**: רשימת משימות עם כרטיסיות גדולות, טקסט ותמונה/איקון
- [x] **אינטראקטיביות**:
  - סימון משימה כבוצעה (✓) בלחיצה
  - אפקט ויזואלי (Gray out) למשימות שבוצעו
  - ביטול סימון משימה (לחיצה חוזרת)
- [x] **גרירה ושחרור (Drag & Drop)**: סידור מחדש של המשימות (פעיל במצב עריכה בלבד)
  - מימוש: `dragDrop.svelte.ts` (2026-01-06)
- [x] **מצב עריכה (Edit Mode)**:
  - מוגן/מופרד ע"י כפתור נעילה (Lock/Unlock)
  - הוספת משימה חדשה (מודאל עם בחירת תמונה ושם)
  - עריכת משימה קיימת
  - מחיקת משימות
  - יצירת רשימות חדשות, החלפת רשימות, ומחיקת רשימות
- [x] **שמירת נתונים (Persistence)**: שמירה אוטומטית ומקומית (localStorage + IndexedDB) של הרשימות והסטטוס בדפדפן
  - `persistence.ts` + `db.ts` (2026-01-12)

### 🎉 משוב וחיזוקים (Feedback & Celebration)

- [x] **חיזוקים רנדומליים** - מיושם מלא (2026-01-13)
  - בנק משפטי חיזוק מוקלטים ("כל הכבוד!", "אתה אלוף!", "מעולה!")
  - השמעה אקראית למניעת קיבעון
  - `boosts.ts` - בנק חיזוקים + לוגיקה היברידית (MP3/TTS)
  - תמיכה במגדר (בן/בת) עם פניה מותאמת

- [x] **רצפי משוב דינמיים** - מיושם (2026-01-13)
  - `audioSequencer.ts` - ניגון רצפי אודיו (קבצים + TTS)
  - רצף מלא: "סיימת את [משימה]! [חיזוק]! עכשיו, [המשימה הבאה]"
  - שילוב חלק בין קבצי אודיו מוקלטים ל-TTS

- [x] **מודאל חגיגה מתקדם** - מיושם (2026-01-13, שופר 2026-01-18)
  - `CelebrationModal.svelte` - מודרני ומובנה
  - הצגת תמונת המשימה שבוצעה (גדולה)
  - מחמאה מודגשת ויזואלית
  - תצוגה מקדימה של המשימה הבאה (תמונה + שם)
  - אנימציית קונפטי (Confetti)
  - סנכרון מושלם: המודאל נסגר רק לאחר סיום האודיו המלא
  - טיפול במקרי קצה (אין משימה עוקבת, סיום כל המשימות)

### 👥 ריבוי משתמשים (User Management)

- [x] **החלפת משתמשים** - מיושם (2026-01-06)
  - מעבר מהיר בין פרופילים (תמר, יונתן, אריאל)
  - `UserSelector.svelte`
- [x] **שמירת העדפות לכל משתמש**: סדר יום נפרד והתקדמות אישית לכל פרופיל
- [x] **פרופיל משתמש מתקדם**: 
  - סוג משתמש (בן/בת) לפנייה מגדרית מותאמת
  - אווטאר אישי (תמונה)
  - צבע נושא אישי
- [x] **מיגרציה אוטומטית** - מיושם (2026-01-06)
  - `migration.ts` - מעבר מנתונים ישנים למבנה החדש
  - תמיכה בגרסאות (versioning) של נתונים

### 🖼️ ניהול תמונות (Image Management)

- [x] **אחסון תמונות ב-IndexedDB** - מיושם מלא (2026-01-12)
  - `db.ts` - מעטפת ל-IndexedDB לשמירת Blob
  - `dbImage.ts` - action לטעינה אסינכרונית של תמונות
  - מיגרציה אוטומטית מ-Base64 ל-IndexedDB (חוסך זיכרון אדיר)
  - תמיכה ב-`idb:xxx` IDs

- [x] **מערכת חיתוך תמונות (Image Crop)** - מיושם מלא (2026-01-18)
  - `ImageCropEditor.svelte` - עורך אינטראקטיבי מלא
    - גרירה (Drag) - הזזת מיקום התמונה
    - זום (Zoom) - הגדלה/הקטנה (גלגלת עכבר או כפתורים)
    - איפוס - חזרה למצב ברירת מחדל
    - אישור/ביטול שינויים
    - תמיכה מלאה ב-Touch Events
  - `ImageDisplay.svelte` - קומפוננטה אחידה להצגת תמונות
    - תמיכה בתמונות עם ובלי נתוני חיתוך
    - תמיכה לאחור (Backward compatibility)
    - מצב טעינה אוטומטי
  - `imageStore.svelte.ts` - Store מרכזי לניהול מטאדאטה
  - **Scale יחסי** - עקביות מלאה בכל גדלי התצוגה
  - החלפה מלאה של כל תצוגות התמונות בפרויקט

- [x] **ImageUploader משודרג** - מיושם (2026-01-12)
  - רכיב גנרי להעלאת תמונות
  - פתיחת עורך חיתוך אוטומטית אחרי בחירת תמונה
  - כפתור "✂️ ערוך חיתוך" לתמונות קיימות

### 🗣️ תקשורת (Communication)

- [x] **לוח תקשורת ב-iframe** - מיושם מלא (2026-01-19 00:00)
  - `FloatingIframe.svelte` - חלון צף מלא
    - ניתן לגרירה (Drag)
    - ניתן לשינוי גודל (Resize)
    - סגירה (X)
  - שדה `communicationBoardUrl` במשימה (אופציונלי)
  - לחצן 💬 ב-`TaskRow` - מופיע רק במשימות "עכשיו" או "הושלמו"
  - אינטגרציה מלאה עם `TasksBoardController`

- [x] **שמירת מצב לוח התקשורת** - מיושם (2026-01-19 01:15)
  - `floatingBoardState.ts` - שירות לניהול מצב החלון
  - שמירת מיקום וגודל ב-localStorage
  - החלון נפתח במיקום האחרון
  - ולידציה מקיפה (החלון תמיד בתוך המסך)

### 🔄 משימות שינוי (Change Tasks)

- [x] **משימות מבוטלות** - מיושם (2026-01-19 00:00)
  - סימון משימה כ"בוטלה" (🚫)
  - עיצוב: רקע אדום עדין (`#fef2f2`), גבול אדום
  - הקראה בלחיצה: "שינוי! היום אין [שם המשימה]!"
  - לא מסומנת כהושלמה, לא מקבלת מחוון "עכשיו"

- [x] **משימות חדשות** - מיושם (2026-01-19 00:00)
  - סימון משימה כ"נוספה" (✨)
  - תגית "פעילות חדשה" בצהוב
  - פועלת כמשימה רגילה (אפשר לסמן כהושלמה)

- [x] **ממשק עריכה**:
  - Toggle + dropdown ב-`AddModal.svelte`
  - `changeType` ב-Task interface

### 📋 ניהול רשימות מתקדם (List Management)

- [x] **כותרת ותיאור לרשימה** - מיושם (2026-01-19 17:00)
  - שדות אופציונליים `title` ו-`description` לכל רשימה
  - הצגת לוגו מוגדל (200px) עם כותרת ותיאור
  - `ListHeader.svelte` - קומפוננטה ייעודית
  - מיועד להכנה לאירועים עתידיים

- [x] **מודאל עריכה משותף** - מיושם (2026-01-19 17:00)
  - `ListEditModal.svelte` - קומפוננטה משותפת
  - שימוש חוזר במסך הראשי ובהגדרות
  - כל שדות הרשימה במקום אחד (name, greeting, title, description, logo, people)

- [x] **רשימות נעולות (מצב תרגול)** - מיושם (2026-01-20 00:15)
  - שדה `isLocked?: boolean` בממשק `List`
  - כפתור נעילה/שחרור (🔒/🔓) בפאנל פעולות
  - במצב נעול: לחיצה על משימה רק משמיעה את שמה (ללא חגיגה)
  - שימושי לתרגול והכנה לאירועים עתידיים
  - אינדיקטור ויזואלי: תג "🔒 (נעולה)"
  - מיגרציה לגרסה 10

- [x] **העברה/שכפול רשימות בין משתמשים** - מיושם (2026-01-20 00:15)
  - `copyListToUser()` ב-listStore - פונקציה מלאה
  - אפשרויות: שכפול (copy) או העברה (move)
  - העתקה עמוקה של משימות עם IDs חדשים
  - איפוס אוטומטי של `isDone` בעותק
  - `UserPickerModal.svelte` - מודאל בחירת משתמש יעד
  - כפתור בדף ניהול רשימות (`/settings/lists`)
  - טקסטים: `COPY_TO_USER`, `MOVE`, `COPY`, `MOVE_INSTEAD_OF_COPY`

### 👥 אנשי צוות / בני משפחה (People Management)

- [x] **מערכת ניהול אנשים** - מיושם מלא (2026-01-19 17:00)
  - מאגר גלובלי: `AppState.people: Person[]`
  - Normalization: רשימות מפנות למזהים (`peopleIds: string[]`)
  - הצגה ויזואלית: "מי יהיה איתנו היום?" עם אווטארים (80px)
  - הסתרה/הצגה מהירה (נשמר ברמת רשימה)
  - קומפוננטות:
    - `peopleStore.svelte.ts` - Store מלא (CRUD + ניקוי הפניות)
    - `PeopleDisplay.svelte` - הצגה במסך הראשי
    - `PeoplePicker.svelte` - בחירת אנשים + הוספה inline
    - `PersonForm.svelte` - טופס משותף
  - דף ניהול: `/settings/people`
  - מיגרציה לגרסה 9

### ☁️ גיבוי וסנכרון (Backup & Sync)

- [x] **גיבוי Google Drive** - מיושם מלא (2026-01-14)
  - `googleDriveService.ts` - מעטפת OAuth2 + Drive API v3
  - `BackupController.svelte.ts` - בקר לוגי לגיבוי אוטומטי
    - מאזין לשינויים ב-Store
    - גיבוי אוטומטי עם Debounce (5 שניות)
  - `GoogleDriveBackup.svelte` - ממשק משתמש
    - הצגת סטטוס חיבור
    - תמונת משתמש Google
    - גיבוי ידני מיידי
    - מודאל בחירת קובץ לשחזור

- [x] **זיהוי קונפליקטים** - מיושם (2026-01-14)
  - שדה `lastModified` ב-AppState
  - השוואת חותמות זמן (Local vs Remote)
  - מודאל אזהרה עם בחירת פעולה:
    - "עדכן מהענן" (Discard Local)
    - "השאר מקומי" (Overwrite Cloud)

- [x] **הטמעת תמונות בגיבוי** - מיושם (2026-01-14)
  - Hydration: המרת `idb:xxx` ל-data URLs לפני ייצוא
  - Dehydration: המרת data URLs חזרה ל-`idb:xxx` אחרי ייבוא
  - מעבר מכשיר שומר גם את התמונות

- [x] **תיקייה ייעודית**: גיבויים נשמרים ב-`DailyScheduleBackup` בדרייב
- [x] **Serverless לחלוטין**: אימות ישיר מול Google (אין שרת)

**⚠️ הערה חשובה**: הגיבוי פועל כרגע במצב "Testing" בלבד ב-Google Cloud Console. רק מיילים שנרשמו ידנית יכולים להשתמש בו. להעברה למצב ציבורי, יש לבצע "PUBLISH APP" בקונסול.

### 🎨 ממשק משתמש (UI/UX)

- [x] **Splash Screen** - מיושם (2026-01-14)
  - `SplashScreen.svelte` - אנימציית טעינה נקייה
  - מוצג בזמן Hydration וטעינת נתונים
  - מונע הבהובים של תוכן לא רלוונטי (FOUC)

- [x] **דף login נפרד** - מיושם (2026-01-14)
  - `/login` - נתיב ייעודי לבחירת משתמש
  - `UserSelector` מופיע רק בדף הלוגין
  - הפניה אוטומטית ל-`/` אחרי בחירת משתמש
  - הפניה אוטומטית ל-`/login` אם אין משתמש מחובר

- [x] **לוגו ומיתוג** - מיושם (2026-01-14)
  - `logo.svg` - לוגו בסגנון "סדר יום מובנה" (3 כרטיסיות מדורגות)
  - צבעים: Navy + Coral
  - הלוגו מופיע בכותרת ובדף הכניסה
  - Favicon מעודכן

- [x] **ניהול הגדרות מבוסס routing** - מיושם (2026-01-14)
  - `/settings/users` - ניהול משתמשים
  - `/settings/lists` - ניהול רשימות
  - `/settings/people` - ניהול אנשים (חדש 2026-01-19)
  - `/settings/general` - הגדרות כלליות
  - `settings/+layout.svelte` - layout משותף
  - Deep Linking - קישור ישיר ללשונית ספציפית

- [x] **שיפורי עיצוב** - מיושם (2026-01-06)
  - עיצוב נקי ומודרני (Clean Look)
  - צלליות רכות (Shadows), פינות עגולות
  - אייקוני SVG במקום טקסט (✎/🗑️)
  - CSS Grid לסידור רספונסיבי
  - תצוגה מקדימה בטפסים
  - אווטאר מוגדל בהידר (56px) עם zoom effect

- [x] **ברכות דינמיות** - מיושם (2026-01-06)
  - מאפיין `greeting` לכל רשימה
  - הברכה מוצגת בהידר ("בוקר טוב", "אחרי צהריים טובים")

- [x] **פאנל פעולות מעוצב** - מיושם (2026-01-19 17:00)
  - 5 כפתורי פעולה בעיצוב כרטיסים:
    - ➕ רשימה חדשה (כחול)
    - ✏️ ערוך רשימה (סגול)
    - 🚫/👁️ הסתר/הצג רשימה (כתום)
    - 🗑️ מחק רשימה (אדום)
    - 🔄 אפס משימות (צהוב)
  - אייקון דומיננטי (1.8rem) + טקסט משני (0.7rem)
  - Grid responsive עם `minmax(90px, 1fr)`

- [x] **Header sticky (דביק)** - מיושם (2026-01-19 17:00)
  - `position: sticky; top: 0; z-index: 100`
  - ניווט תמיד נראה בזמן גלילה
  - `overflow hierarchy`: html/body → hidden, task-list-container → auto

### ⚙️ תשתית (Infrastructure)

- [x] **ארכיטקטורה 3 שכבות** - מיושם (2026-01-06)
  - Data Layer: `stores/` (userStore, listStore, imageStore)
  - Logic Layer: `logic/` (Controllers מחולקים לפי נושא)
  - View Layer: `routes/`, `components/`

- [x] **מבנה State מאוחד** - מיושם (2026-01-06)
  - `globalState.svelte.ts` - Store מרכזי
  - Svelte 5 Runes: `$state`, `$derived`
  - localStorage יחיד: `daily-schedule-data`

- [x] **מיגרציה וגרסאות** - מיושם (2026-01-06 ואילך)
  - `migration.ts` - מנגנון מיגרציה אוטומטי
  - גרסה נוכחית: 10 (נכון ל-2026-01-20 00:15)
  - תמיכה לאחור מלאה
  - מיגרציות: V6 (images), V7 (communicationBoardUrl + changeType), V8 (title + description), V9 (people), V10 (isLocked)

- [x] **שירות שפה מרכזי** - מיושם (2026-01-06)
  - `language.ts` - כל הטקסטים במערכת
  - אין טקסטים קשיחים (Hardcoded) בקומפוננטות
  - תמיכה מלאה ב-RTL

- [x] **נתוני ברירת מחדל** - מיושם (2026-01-06)
  - `defaults.ts` - מקור אמת יחיד לנתונים סטטיים
  - רשימות, פעילויות, אווטארים

- [x] **ריכוז טקסטים** - רפקטורינג (2026-01-19 17:00)
  - `src/lib/data/texts.ts` - קובץ ייעודי לכל הטקסטים
  - `src/lib/services/language.ts` - רק ייבוא וייצוא + פונקציות עזר
  - 100+ מחרוזות מרוכזות במקום אחד

---

### 📋 כותרת ותיאור לרשימה

- [x] **כותרת ותיאור לרשימה** - מיושם מלא (2026-01-19 17:00)
  - שדה `title` אופציונלי לרשימה
  - שדה `description` אופציונלי
  - הצגת לוגו גדול (200px) + טקסט מעל המשימות
  - מיועד להכנה לאירועים עתידיים (לא לשגרה יומיומית)
  - `ListHeader.svelte` - קומפוננטה להצגה
  - מיגרציה לגרסה 8

### 👥 אנשי צוות / בני משפחה

- [x] **מערכת ניהול אנשים** - מיושם מלא (2026-01-19 17:00)
  - מאגר גלובלי של אנשים (שם + תמונה)
  - בחירת אנשים לרשימה ספציפית
  - הצגת "מי יהיה איתנו היום?" במסך הראשי
  - לחצן הסתרה/הצגה מהיר (נשמר ברמת רשימה)
  - ניהול המאגר בהגדרות (`/settings/people`)
  - `peopleStore.svelte.ts` - Store מלא
  - `PeopleDisplay.svelte`, `PeoplePicker.svelte`, `PersonForm.svelte`
  - מיגרציה לגרסה 9

## ⏸️ פיצ'רים מתוכננים (Planned)

### 📺 מסך טלוויזיה (Dashboard)

- [ ] תצוגה ייעודית למסך גדול בבית
- [ ] משקפת בזמן אמת את הסטטוס של כל המשתמשים
- [ ] "מי נמצא באיזו פעילות כרגע"
- [ ] ללא צורך באינטראקציה (Passive Display)

**סטטוס**: מתוכנן - מחכה ליישום
**עדיפות**: נמוכה

### 📚 משחק קריאה

- [ ] מודול נפרד ללימוד קריאה
- [ ] שיטה חזותית (התאמת תמונה לאות/מילה)

**סטטוס**: מתוכנן - רעיון ראשוני
**עדיפות**: נמוכה

### ☁️ גיבוי ענן ציבורי

- [ ] העברת האפליקציה ממצב "Testing" ל-"Published" ב-Google Cloud Console
- [ ] אפשרות לכל משתמש להשתמש בגיבוי (עם אזהרת "unverified app")

**סטטוס**: מוכן טכנית - דורש רק שינוי הגדרות בקונסול
**עדיפות**: גבוהה (משימה ניהולית, לא טכנית)
**תיעוד**: [`features-plan-2026-01-18.md`](features-plan-2026-01-18.md#5-גיבוי-ענן-ציבורי-google-drive)

---

## 📊 סיכום סטטיסטי

- **✅ מיושמים**: 67+ פיצ'רים ושיפורים
- **⏸️ מתוכננים**: 3 פיצ'רים עיקריים
- **📅 גרסה אחרונה**: 10 (2026-01-20 00:15)
- **🎉 פיצ'רים חדשים השבוע**: 7 (כותרת לרשימה, אנשי צוות, משימות שינוי, לוח תקשורת, מודאל משותף, רשימות נעולות, העברה/שכפול)

---

## 📖 מסמכים קשורים

- [`walkthrough.md`](walkthrough.md) - יומן פיתוח מפורט
- [`features-plan-2026-01-18.md`](features-plan-2026-01-18.md) - תכנון פיצ'רים חדשים
- [`.cursor/rules/architecture.mdc`](../.cursor/rules/architecture.mdc) - חוקי ארכיטקטורה
