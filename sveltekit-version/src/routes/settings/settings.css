@import '../layout.css';

/* ============================================
   SETTINGS ROUTE CSS - 拽抓 CSS 转 专转
   
   拽抓  :
   - Design Tokens 砖 theme-focus (注专转 砖 驻拽住)
   -  拽驻转 CSS (@layer components)
   - @layer base
   - @keyframes
   
    砖砖: import 转 +layout.svelte 砖 settings
   ============================================ */

/* ============================================
   CSS LAYERS DECLARATION - 专转 住专 Layers
    转 专砖! 住专 拽注 注驻转.
   ============================================ */
@layer base, components, theme-overrides;

/* ============================================
   DESIGN TOKENS - 砖转 注爪
   THEME: CLEAR & CALM (FOCUS)
   
   注专转 注爪 住住转 注 砖转 CSS 砖砖转
   转 注专转 砖 专转.
   
    砖转 :
   
    Colors (爪注):
      --primary, --secondary, --success, --danger, 
      --warning, --edit, --info
      --cancelled, --cancelled-border
      --added, --added-border
   
    Typography (驻专驻):
      --text-main, --text-muted
      --text-xs, --text-sm, --text-base, 
      --text-lg, --text-xl, --text-2xl
      --font-heading
   
    Spacing (专):
      --space-xs, --space-sm, --space-md, 
      --space-lg, --space-xl
   
    Borders & Shadows (砖 爪):
      --radius-sm, --radius-md, --radius-lg,
      --radius-xl, --radius-2xl, --radius-full
      --shadow-sm, --shadow-md, --shadow-lg, --shadow-xl
   
    Backgrounds (专拽注):
      --bg-main, --bg-card
      --success-bg, --primary-bg
   
    砖砖:
   
   HTML (inline styles):
     style="background: var(--primary); border-radius: var(--radius-lg);"
   
   Tailwind:
     class="bg-[var(--primary)] rounded-[var(--radius-lg)]"
   
   CSS:
     .my-component {
       background: var(--primary);
       border-radius: var(--radius-lg);
     }
   ============================================ */

:root,
.theme-focus {
  /* Background & Cards */
  --bg-main: linear-gradient(to bottom right, #f8fafc, #eef2ff);
  --bg-card: linear-gradient(145deg, #ffffff 0%, #e0e7ff 100%);
  
  /* Text */
  --text-main: #334155;
  --text-muted: #64748b;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.25rem;
  --text-xl: 1.5rem;
  --text-2xl: 2rem;
  
  /* Colors */
  --primary: #6366f1;
  --primary-bg: #e0e7ff;
  --secondary: #8b5cf6;
  --success: #10b981;
  --success-bg: linear-gradient(145deg, #ecfdf5 0%, #a7f3d0 100%);
  --danger: #ef4444;
  --warning: #eab308;
  --edit: #8b5cf6;
  --info: #3b82f6;
  
  /* State-specific Colors */
  --cancelled: #fef2f2;
  --cancelled-border: #fca5a5;
  --added: #fefce8;
  --added-border: #fef08a;
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  
  /* Borders & Shadows */
  --border-radius: 16px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  --radius-full: 9999px;
  
  --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.15);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.25);
  
  /* Typography */
  --font-heading: "Heebo", sans-serif;
  
  /* Effects */
  --ring-width: 0px;
  
  /* Modal Specific */
  --modal-bg: #ffffff;
  --modal-text: #334155;
  --modal-border: transparent;
  --modal-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
}

/* ============================================
   LAYER 1: BASE
    住住 + Typography
   ============================================ */
@layer base {
  body {
    font-family: "Heebo", sans-serif;
    background: var(--bg-main);
    background-attachment: fixed;
    color: var(--text-main);
    transition: background-color 0.3s, color 0.3s;
  }
  
  h1, h2, h3 {
    font-family: var(--font-heading);
  }
}

/* ============================================
   LAYER 2: COMPONENTS
   专 住住 注 @apply
   ============================================ */
@layer components {
  /* ==================== BUTTONS ==================== */
  
  /* Base Button - 驻转专 住住 */
  .btn {
    padding: 0.75rem 1.5rem;
    font-weight: bold;
    transition: all 0.2s;
    cursor: pointer;
    background-color: var(--primary);
    color: white;
    border-radius: var(--border-radius);
    border: none;
  }
  
  .btn:hover {
    filter: brightness(1.1);
  }
  
  /* Button Variants - 专爪转 驻转专 */
  .btn-secondary {
    background-color: #f3f4f6;
    color: #374151;
  }
  
  .btn-secondary:hover {
    background-color: #e5e7eb;
    filter: brightness(1);
  }
  
  .btn-danger {
    background-color: var(--danger);
    color: white;
  }
  
  .btn-edit {
    background-color: var(--edit);
    color: white;
  }
  
  .btn-warning {
    background-color: var(--warning);
    color: white;
  }
  
  /* Button Sizes -  */
  .btn-sm {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
  
  .btn-xs {
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
  }
  
  /* Icon Button - 驻转专 拽 */
  .btn-icon {
    width: 2.5rem;
    height: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.5rem;
    transition: colors 0.2s;
    cursor: pointer;
    border: none;
    background: transparent;
    color: #64748b;
  }
  
  .btn-icon:hover {
    background-color: #f3f4f6;
    color: var(--primary);
  }
  
  /* Icon Button Danger Variant */
  .btn-icon-danger:hover {
    color: var(--danger);
    background-color: #fef2f2;
  }
  
  /* FAB (Floating Action Button) */
  .btn-fab {
    width: 3.5rem;
    height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s;
    cursor: pointer;
    background-color: var(--primary);
    color: white;
    border: none;
  }
  
  .btn-fab:hover {
    transform: scale(1.1);
    filter: brightness(1.1);
  }
  
  /* ==================== CARDS ==================== */
  
  /* Task Card - 专住 砖 */
  .task-card {
    position: relative;
    overflow: hidden;
    background: var(--bg-card);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
  }
  
  /* ==================== INPUTS ==================== */
  
  /* Text Input & Textarea - 砖 拽 拽住 */
  .input,
  textarea.input {
    width: 100%;
    padding: 0.75rem 1rem;
    transition: all 0.2s;
    border: 2px solid #e5e7eb;
    border-radius: var(--radius-md);
  }
  
  .input:focus,
  textarea.input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
  }
  
  textarea.input {
    resize: vertical;
  }
  
  /* ==================== BADGES ==================== */
  
  /* Badge Base */
  .badge {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
    font-weight: bold;
    border-radius: 9999px;
    background-color: #f1f5f9;
    color: #64748b;
  }
  
  .badge-success {
    background-color: var(--success-bg);
    color: var(--success);
  }
  
  .badge-danger {
    background-color: var(--cancelled);
    border: 2px solid var(--cancelled-border);
    color: var(--danger);
  }
  
  .badge-warning {
    background-color: var(--added);
    border: 2px solid var(--added-border);
    color: var(--warning);
  }
  
  /* ==================== INDICATORS ==================== */
  
  /* Now Indicator -  "注砖" */
  .now-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 900;
    color: white;
    border-radius: 9999px;
    background: var(--danger);
    padding: 0.5rem 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
    animation: pulse-border 2s infinite;
  }
  
  /* ==================== AVATARS ==================== */
  
  /* Avatar Base */
  .avatar {
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-color: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    background-color: #e2e8f0;
  }
  
  /* Avatar Sizes */
  .avatar-sm {
    width: 2.5rem;
    height: 2.5rem;
    border-width: 2px;
  }
  
  .avatar-md {
    width: 5rem;
    height: 5rem;
    border-width: 4px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  
  .avatar-lg {
    border-width: 4px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    width: 120px;
    height: 120px;
  }
  
  /* ==================== TASK CARD STATES ==================== */
  
  /* Task Card Base 专 专 注 */
  
  /* Task Card - Waiting State */
  .task-card-waiting {
    opacity: 0.7;
    transition: opacity 0.2s, box-shadow 0.2s;
  }
  
  .task-card-waiting:hover {
    opacity: 1;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
  
  /* Task Card - Active State */
  .task-card-active {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    transform: scale(1.05);
    ring-offset: 4px;
  }
  
  /* Task Card - Done State */
  .task-card-done {
    transition: all 0.3s;
    opacity: 0.9;
    background: var(--success-bg);
    border: 2px solid var(--success);
  }
  
  /* Task Card - Cancelled State */
  .task-card-cancelled {
    opacity: 0.8;
    background: var(--cancelled);
    border: 2px solid var(--cancelled-border);
  }
  
  /* Task Card - Added State */
  .task-card-added {
    opacity: 0.9;
    background: var(--added);
    border: 2px solid var(--added-border);
  }
  
  /* ==================== STATUS INDICATORS ==================== */
  
  /* Status Indicator Base - 注 注 住住 */
  .status-indicator {
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .status-indicator-empty {
    width: 3rem;
    height: 3rem;
    border: 4px solid #e5e7eb;
  }
  
  .status-indicator-active {
    width: 4rem;
    height: 4rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    color: white;
    background: var(--primary);
    border: 4px solid white;
  }
  
  .status-indicator-done {
    width: 3rem;
    height: 3rem;
    color: white;
    font-size: 1.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    background-color: var(--success);
  }
  
  /* ==================== ACTIVITY CARDS ==================== */
  
  /* Activity Card - 专住 驻注转 专 */
  .activity-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem;
    border-radius: 0.75rem;
    background-color: #f9fafb;
    border: 2px solid transparent;
    transition: all 0.2s;
    cursor: pointer;
  }
  
  .activity-card:hover {
    background-color: #f3f4f6;
    border-color: var(--primary);
  }
  
  .activity-card-img {
    width: 4rem;
    height: 4rem;
    border-radius: 0.5rem;
    object-fit: cover;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .activity-card-label {
    font-size: 0.75rem;
    font-weight: 500;
    text-align: center;
    line-height: 1.25;
  }
  
  /* ==================== MODALS ==================== */
  
  /* Modal Overlay */
  .modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    transition: opacity 0.3s;
    background-color: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
  }
  
  /* Modal Content Base */
  .modal-content {
    position: relative;
    width: 100%;
    max-width: 32rem;
    border-radius: 1.5rem;
    padding: 2rem;
    text-align: center;
    transform: scale(1);
    transition: transform 0.3s;
    background-color: var(--modal-bg);
    color: var(--modal-text);
    border: var(--modal-border, none);
    box-shadow: var(--modal-shadow);
  }
  
  /* ==================== SECTION HEADERS ==================== */
  
  /* Section Title */
  .section-title {
    font-size: 1.875rem;
    font-weight: 900;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #e5e7eb;
  }
  
  /* Section Description */
  .section-description {
    margin-bottom: 1.5rem;
    color: var(--text-muted);
  }
  
  /* ==================== PAGE COMPONENTS ==================== */
  
  /* Page Header - 转专转 祝 */
  .page-header {
    @apply text-2xl font-bold text-slate-700 m-0;
  }
  
  .header-row {
    @apply flex justify-between items-center mb-8 border-b border-slate-100 pb-6 flex-wrap gap-4;
  }
  
  /* ==================== CARD COMPONENT ==================== */
  
  /* Card - 专住  */
  .card {
    @apply bg-white border border-slate-200 rounded-2xl p-6 
           flex flex-col items-center gap-4
           transition-all duration-300 ease-in-out
           shadow-md;
  }
  
  .card:hover {
    @apply -translate-y-1 shadow-2xl border-slate-300;
  }
  
  /* ==================== FORM COMPONENTS ==================== */
  
  /* Form Group - 拽爪转 砖转 */
  .form-group {
    @apply mb-6;
  }
  
  .form-group label {
    @apply block mb-2 font-semibold text-slate-600 text-[0.95rem];
  }
  
  /* Modal Actions - 驻转专  */
  .modal-actions {
    @apply flex gap-4 justify-end mt-6;
  }
  
  /* ==================== EMPTY STATE ==================== */
  
  /* Empty State - 住 专拽 */
  .empty-state {
    @apply text-center py-12 px-4 text-slate-500;
  }
  
  .empty-state p {
    @apply text-lg my-2;
  }
  
  .empty-state .subtitle {
    @apply text-[0.95rem] text-slate-400;
  }
  
  /* ==================== AVATAR INITIAL ==================== */
  
  /* Avatar Initial - 转 专砖 专 */
  .avatar-initial {
    @apply text-4xl text-slate-400 font-extrabold;
  }
  
  /* ==================== USERS PAGE SPECIFIC ==================== */
  
  /* Users Grid - 专砖转 砖转砖 */
  .users-grid {
    @apply grid gap-6 w-full;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }

  /* User Card - 专住 砖转砖 (专 转 .card) */
  .user-card {
    @apply bg-white border border-slate-200 rounded-2xl p-6 
           flex flex-col items-center gap-4
           transition-all duration-300 ease-in-out
           shadow-md;
  }
  
  .user-card:hover {
    @apply -translate-y-1 shadow-2xl border-slate-300;
  }

  /* User Details - 驻专 砖转砖 */
  .user-details h3 {
    @apply m-0 mb-2 text-xl text-slate-800;
  }

  /* User Actions - 驻转专 驻注 */
  .user-actions {
    @apply flex gap-3 mt-2 w-full justify-center;
  }
  
  /* ==================== MISC ==================== */
  
  /* Palette Swatch - 转爪转 爪注 */
  .swatch {
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: bold;
    border-radius: 0.5rem;
    border: 2px solid rgba(0, 0, 0, 0.1);
  }
}

/* ============================================
   KEYFRAMES - 爪转
   (抓 -layer)
   ============================================ */

/* Pulse Border -  "注砖" */
@keyframes pulse-border {
  0% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
  }
}

/* Pulse - 爪 转 */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: .5;
  }
}
