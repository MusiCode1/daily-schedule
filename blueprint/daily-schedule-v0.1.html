<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>× ×™×”×•×œ ×¡×“×¨ ×™×•×</title>
    <style>
        :root {
            --bg-color: #f4f7f9;
            --primary: #3b82f6;
            --border-color: #e2e8f0;
            --danger: #ef4444;
            --success: #22c55e;
        }
        body {
            background-color: var(--bg-color);
            font-family: 'Segoe UI', sans-serif;
            margin: 0; padding: 20px;
        }
        .schedule-container {
            max-width: 550px; margin: 2rem auto;
            background: #fff; padding: 2rem;
            border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        }
        h1 { text-align: center; color: #2c3e50; }
        .add-form {
            display: flex; gap: 1rem; margin-bottom: 2rem;
            padding-bottom: 1.5rem; border-bottom: 2px solid #f0f2f5;
        }
        .input-group { display: flex; flex-direction: column; gap: 0.5rem; }
        .grow { flex-grow: 1; }
        input {
            padding: 0.75rem; border: 2px solid var(--border-color);
            border-radius: 10px; width: 100%; box-sizing: border-box;
        }
        button.add-btn {
            padding: 0.75rem 1.5rem; background-color: var(--primary);
            color: white; border: none; border-radius: 10px; cursor: pointer;
            height: 48px; font-weight: bold;
        }
        ul { list-style: none; padding: 0; }
        .task-item {
            display: flex; align-items: center; padding: 1rem;
            border: 1px solid var(--border-color); margin-bottom: 0.75rem;
            border-radius: 12px; background: #fff;
        }
        .task-item.completed { background-color: #f8fafc; }
        .task-item.completed .task-name { text-decoration: line-through; color: #94a3b8; }
        .task-details { flex-grow: 1; margin-right: 1rem; }
        .task-time {
            font-family: monospace; background: #f1f5f9; padding: 0.25rem 0.6rem;
            border-radius: 6px; margin-left: 1rem; font-size: 0.9rem;
        }
        .delete-btn {
            background: transparent; border: none; color: var(--danger);
            font-size: 1.2rem; cursor: pointer;
        }
        /* Checkbox Style */
        .checkbox-container { position: relative; padding-left: 30px; cursor: pointer; }
        .checkbox-container input { opacity: 0; position: absolute; }
        .checkmark {
            position: absolute; top: 0; left: 0; height: 24px; width: 24px;
            background-color: var(--border-color); border-radius: 6px;
        }
        .checkbox-container input:checked ~ .checkmark { background-color: var(--success); }
        .checkbox-container input:checked ~ .checkmark:after {
            content: ""; position: absolute; display: block;
            left: 9px; top: 5px; width: 5px; height: 10px;
            border: solid white; border-width: 0 3px 3px 0; transform: rotate(45deg);
        }
    </style>
</head>
<body>

<div class="schedule-container">
    <h1>ğŸ“… ×¡×“×¨ ×”×™×•× ×©×œ×™</h1>
    <form id="taskForm" class="add-form">
        <div class="input-group grow">
            <label>××” ×‘×ª×›× ×•×Ÿ?</label>
            <input id="taskInput" type="text" placeholder="×œ×“×•×’××”: ×¤×’×™×©×ª ×¦×•×•×ª" required />
        </div>
        <div class="input-group">
            <label>×©×¢×”</label>
            <input id="timeInput" type="time" required />
        </div>
        <button type="submit" class="add-btn">×”×•×¡×£ +</button>
    </form>
    <ul id="listContainer"></ul>
</div>

<template id="task-template">
    <li class="task-item">
        <label class="checkbox-container">
            <input type="checkbox" class="task-checkbox" />
            <span class="checkmark"></span>
        </label>
        <div class="task-details">
            <span class="task-time"></span>
            <span class="task-name"></span>
        </div>
        <button class="delete-btn">âœ•</button>
    </li>
</template>

<script>
    let tasks = [];
    const listContainer = document.getElementById('listContainer');
    const template = document.getElementById('task-template');

    document.getElementById('taskForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const name = document.getElementById('taskInput').value.trim();
        const time = document.getElementById('timeInput').value;
        if (!name || !time) return;
        
        tasks.push({ id: crypto.randomUUID(), name, time, completed: false });
        
        document.getElementById('taskInput').value = '';
        document.getElementById('timeInput').value = '';
        renderTasks();
    });

    function renderTasks() {
        tasks.sort((a, b) => a.time.localeCompare(b.time));
        listContainer.innerHTML = '';
        
        // ×™×¦×™×¨×ª "××’×©" ×•×™×¨×˜×•××œ×™
        const fragment = document.createDocumentFragment();

        tasks.forEach(task => {
            // ×©×›×¤×•×œ ×”×ª×‘× ×™×ª
            const clone = template.content.cloneNode(true);
            
            // ××™×œ×•×™ × ×ª×•× ×™×
            clone.querySelector('.task-name').textContent = task.name;
            clone.querySelector('.task-time').textContent = task.time;
            
            const checkbox = clone.querySelector('.task-checkbox');
            checkbox.checked = task.completed;
            checkbox.onchange = () => { task.completed = !task.completed; renderTasks(); };
            
            if (task.completed) clone.querySelector('.task-item').classList.add('completed');
            
            clone.querySelector('.delete-btn').onclick = () => {
                tasks = tasks.filter(t => t.id !== task.id);
                renderTasks();
            };

            // ×”×•×¡×¤×” ×œ××’×©
            fragment.appendChild(clone);
        });

        // ×”×•×¡×¤×ª ×”××’×© ×œ×“×£ ×‘×¤×¢× ××—×ª
        listContainer.appendChild(fragment);
    }
</script>
</body>
</html>